---
apiVersion: helm.cattle.io/v1
kind: HelmChart
metadata:
  name: keel
  namespace: kube-system
spec:
  chart: keel
  targetNamespace: kube-system
  repo: https://keel-hq.github.io/keel/
  valuesContent: |- 
    image:
      repository: keelhq/keel
      tag: 0.19.0
    service:
      enabled: true
      type: ClusterIP
      port: 9300
    basicauth:
      enabled: false
    helmProvider:
      enabled: true
      version: "v3"
    # Keel self-update
    keel:
      # keel policy (all/major/minor/patch/force)
      policy: all
      # trigger type, defaults to events such as pubsub, webhooks
      trigger: poll
      # polling schedule
      pollSchedule: "@every 3m"
      # images to track and update
      images:
        - repository: image.repository
          tag: image.tag

